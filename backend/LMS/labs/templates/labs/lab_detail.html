<!DOCTYPE html>
<html>
<head>
    <title>{{ lab.name }} - Details</title>
    <style>
        body { font-family: sans-serif; margin: 2em; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        a { text-decoration: none; color: #007bff; }
        a:hover { text-decoration: underline; }
        .actions a { margin-right: 10px; }
        .lab-details { margin-bottom: 2em; }
        .lab-details p { margin: 0.5em 0; }
    </style>
</head>
<body>
    <div class="lab-details">
        <h1>Lab: {{ lab.name }}</h1>
        <p><strong>Code:</strong> {{ lab.lab_code }}</p>
        <p><strong>Location:</strong> {{ lab.location }}</p>
        <p><strong>Description:</strong> {{ lab.description }}</p>
        <p><strong>Lab Head:</strong> {{ lab.lab_head }}</p>
        <p><strong>Total PCs:</strong> {{ lab.pc_set.count }}</p>
    </div>

    <h2>PCs in this Lab:</h2>
    <p><a href="{% url 'pc-add' lab.id %}">Add New PC</a></p>
    <table>
        <thead>
            <tr>
                <th>Asset Tag</th>
                <th>Hostname</th>
                <th>IP Address</th>
                <th>Manufacturer</th>
                <th>Model</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for pc in lab.pc_set.all %}
            <tr>
                <td>{{ pc.asset_tag }}</td>
                <td><a href="{% url 'pc-detail' pc.id %}">{{ pc.hostname }}</a></td>
                <td>{{ pc.ip_address }}</td>
                <td>{{ pc.manufacturer }}</td>
                <td>{{ pc.model }}</td>
                <td>
                    {% if pc.is_defective %}
                        Defective
                    {% else %}
                        Working
                    {% endif %}
                </td>
                <td class="actions">
                    <a href="{% url 'pc-edit' pc.id %}">Edit</a>
                    <a href="{% url 'pc-delete' pc.id %}">Delete</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="7">No PCs in this lab.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <p><a href="{% url 'lab-list' %}">Back to Labs</a></p>
</body>
</html>
